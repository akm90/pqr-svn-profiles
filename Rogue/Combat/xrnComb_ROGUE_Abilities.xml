<?xml version="1.0" encoding="utf-8" ?><ROGUE><Ability><Name>Sinister Strike</Name><Default>false</Default><SpellID>1752</SpellID><Actions></Actions><Lua>if GetComboPoints(&amp;quot;player&amp;quot;, &amp;quot;target&amp;quot;) &amp;lt; 4 then
   return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Eviscerate</Name><Default>false</Default><SpellID>2098</SpellID><Actions></Actions><Lua>if GetComboPoints(&amp;quot;player&amp;quot;, &amp;quot;target&amp;quot;) == 5 
or UnitHealth(&amp;quot;target&amp;quot;) &amp;lt; UnitHealthMax(&amp;quot;player&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Revealing Strike</Name><Default>false</Default><SpellID>84617</SpellID><Actions></Actions><Lua>if GetComboPoints(&amp;quot;player&amp;quot;, &amp;quot;target&amp;quot;) == 4 
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Rupture</Name><Default>false</Default><SpellID>1943</SpellID><Actions></Actions><Lua>if not BleedDebuff then 
  function BleedDebuff(t)
    local buff = { 35290, 50271, 57386, 33878, 29859, 16511 }
    for _,v in ipairs(buff) do if UnitDebuffID(t,v) then return true end end
  end
end

if BleedDebuff(&amp;quot;target&amp;quot;)  
and not UnitDebuffID(&amp;quot;target&amp;quot;,1943) 
and not UnitBuffID(&amp;quot;player&amp;quot;,13877) 
and GetComboPoints(&amp;quot;player&amp;quot;, &amp;quot;target&amp;quot;) &amp;gt; 3 
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Shiv</Name><Default>false</Default><SpellID>5938</SpellID><Actions></Actions><Lua>local i = 1
local buff = UnitBuff(&amp;quot;target&amp;quot;, i)
while buff do
  if buff == &amp;quot;Enrage&amp;quot; then return true end
  i = i + 1;
  buff = UnitBuff(&amp;quot;target&amp;quot;, i) 
end</Lua><RecastDelay>500</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Slice and Dice</Name><Default>false</Default><SpellID>5171</SpellID><Actions></Actions><Lua>local sliceanddicetimer = select(7,UnitBuffID(&amp;quot;player&amp;quot;, 5171))

if not sliceanddicetimer then
  return true
elseif sliceanddicetimer - GetTime() &amp;lt; 2 and GetComboPoints(&amp;quot;player&amp;quot;, &amp;quot;target&amp;quot;) &amp;gt; 3 then
  return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Apply Poisons</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if applypoison and GetTime() - applypoison &amp;gt; 3 then applypoison = nil end
if UnitAffectingCombat(&amp;quot;player&amp;quot;) == nil and applypoison == nil then

local activepoisons = { &amp;quot;Instant Poison&amp;quot;, &amp;quot;Deadly Poison&amp;quot;, &amp;quot;Wound Poison&amp;quot; }
if IsSpellKnown(36554) then activepoisons = { &amp;quot;Wound Poison&amp;quot;, &amp;quot;Crippling Poison&amp;quot;, &amp;quot;Crippling Poison&amp;quot; } end
local _,poisonMH,_,_,poisonOH,_,_,poisonTR = GetWeaponEnchantInfo()
applypoison = GetTime()

if poisonMH == nil then 
  UseItemByName(activepoisons[1],&amp;quot;player&amp;quot;) 
  if SpellIsTargeting() then PickupInventoryItem(16) end
elseif poisonOH == nil then
  UseItemByName(activepoisons[2],&amp;quot;player&amp;quot;) 
  if SpellIsTargeting() then PickupInventoryItem(17) end
elseif poisonTR == nil then
  UseItemByName(activepoisons[3],&amp;quot;player&amp;quot;) 
  if SpellIsTargeting() then PickupInventoryItem(18) end
end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Assist Tank</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if GetNumPartyMembers() &amp;gt; 0 and UnitInRaid(&amp;quot;player&amp;quot;) == nil then

local heisthetank = nil

for i = 1, GetNumPartyMembers(), 1 do
  if UnitGroupRolesAssigned(&amp;quot;party&amp;quot;..tostring(i)) == &amp;quot;TANK&amp;quot; then heisthetank = &amp;quot;party&amp;quot;..tostring(i) end
end

if heisthetank and UnitExists(&amp;quot;target&amp;quot;) == nil 
and UnitAffectingCombat(heisthetank) 
and UnitAffectingCombat(heisthetank..&amp;quot;target&amp;quot;) 
and UnitIsDead(heisthetank..&amp;quot;target&amp;quot;) == nil
and UnitCanAttack(&amp;quot;player&amp;quot;,heisthetank..&amp;quot;target&amp;quot;)
then TargetUnit(heisthetank..&amp;quot;target&amp;quot;) end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Killing Spree</Name><Default>false</Default><SpellID>51690</SpellID><Actions></Actions><Lua>if UnitPower(&amp;quot;player&amp;quot;) &amp;lt; 25 
and UnitBuffID(&amp;quot;player&amp;quot;,84747) 
and not noKS 
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Tricks of the Trade</Name><Default>false</Default><SpellID>57934</SpellID><Actions></Actions><Lua>PQR_CustomTarget = nil
local tophp = 0
local group = &amp;quot;party&amp;quot;
local members = GetNumPartyMembers()

if GetNumRaidMembers() &amp;gt; 0 then
  group = &amp;quot;raid&amp;quot;
  members = GetNumRaidMembers()
end

for i = 1, members, 1 do
  local member = group..tostring(i)
  local memberhp = UnitHealthMax(member)
  if memberhp &amp;gt; tophp 
  and UnitInRange(member) 
  and UnitIsUnit(&amp;quot;player&amp;quot;,member) == nil 
  and UnitIsDeadOrGhost(member) == nil 
  and UnitGroupRolesAssigned(&amp;quot;target&amp;quot;) ~= &amp;quot;HEALER&amp;quot; 
  then
    PQR_CustomTarget = member
    tophp = memberhp
  end
end

if PQR_CustomTarget then return true end</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Fan of Knives</Name><Default>false</Default><SpellID>51723</SpellID><Actions></Actions><Lua>if IsLeftShiftKeyDown() 
and not GetCurrentKeyBoardFocus() 
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Ambush</Name><Default>false</Default><SpellID>8676</SpellID><Actions></Actions><Lua>return true</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Adrenaline Rush</Name><Default>false</Default><SpellID>13750</SpellID><Actions></Actions><Lua>if UnitPower(&amp;quot;player&amp;quot;) &amp;lt; 25 
and ( UnitBuffID(&amp;quot;player&amp;quot;,13877) or UnitHealth(&amp;quot;target&amp;quot;) &amp;gt; UnitHealthMax(&amp;quot;player&amp;quot;)*10 )
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Recuperate</Name><Default>false</Default><SpellID>73651</SpellID><Actions></Actions><Lua>if GetNumPartyMembers() == 0 
and not UnitBuffID(&amp;quot;player&amp;quot;,73651) 
and 100 * UnitHealth(&amp;quot;player&amp;quot;) / UnitHealthMax(&amp;quot;player&amp;quot;) &amp;lt; 80
and GetComboPoints(&amp;quot;player&amp;quot;, &amp;quot;target&amp;quot;) &amp;gt; 1
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Pick Lock</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local name,_,_,_,_,enchant = GetTradeTargetItemInfo(7)

if name and string.find(name,&amp;quot;Lockbox&amp;quot;) then

if enchant then
  AcceptTrade()
else
  CastSpellByID(1804)
  ClickTargetTradeButton(7)
end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>--- initialize ---</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if not xeroninit then

  function SpecialAggro(t)
    local mob = { &amp;quot;Training Dummy&amp;quot;, &amp;quot;Raider&amp;apos;s Training Dummy&amp;quot;, &amp;quot;Twisted Spirit&amp;quot;, &amp;quot;AmaniÂ´shi Hatcher&amp;quot;, &amp;quot;Hakkar&amp;apos;s Chains&amp;quot;, 
                          &amp;quot;Exposed Head of Magmaw&amp;quot;, &amp;quot;Battleground Demolisher&amp;quot;, &amp;quot;Ozumat&amp;quot;, &amp;quot;Right Foot&amp;quot;, &amp;quot;Left Foot&amp;quot;, 
                          &amp;quot;Icy Tomb&amp;quot;, &amp;quot;Risen Ghoul&amp;quot;, &amp;quot;Mana Void&amp;quot;, &amp;quot;Burning Tendons&amp;quot;, &amp;quot;Wing Tentacle&amp;quot;, &amp;quot;Arm Tentacle&amp;quot;, 
                          &amp;quot;Twilight Assault Drake&amp;quot;, &amp;quot;Goriona&amp;quot;, &amp;quot;Ice Tomb&amp;quot;, &amp;quot;Twilight Sapper&amp;quot;, &amp;quot;Dreadlord Debilitator&amp;quot; }
    for _,v in ipairs(mob) do if UnitName(t) == v then return true end end
  end

  function ImmuneTarget(t) 
    local buff = { 642, 45438, 31224, 23920, 33786, 19263, 97417, 97977, 102915, 100686, 105784, 74938 }
    for _,v in ipairs(buff) do if UnitBuffID(t,v) then return true end end
  end

  function HoldCooldown(cd)
    if GetMinimapZoneText() == &amp;quot;Deathwing&amp;quot; and UnitName(&amp;quot;target&amp;quot;) ~= &amp;quot;Burning Tendons&amp;quot; and cd &amp;gt;= 1
    then return true end
    if UnitName(&amp;quot;target&amp;quot;) == &amp;quot;Warlord Zon&amp;apos;ozz&amp;quot; and not UnitDebuffID(&amp;quot;target&amp;quot;,104031) and cd &amp;gt;= 3 
    then return true end
    if UnitName(&amp;quot;boss1&amp;quot;) == &amp;quot;Alysrazor&amp;quot; and not UnitDebuffID(&amp;quot;boss1&amp;quot;,99432) and cd &amp;gt;= 3 
    then return true end
  end

  if UnitLevel(&amp;quot;player&amp;quot;) ~= 85 then
    print(&amp;quot;\124cFFD12727WARNING: \124cFFFFFFFFLevel 85 is required to use this profile properly&amp;quot;)
  end

  if GetLocale() ~= &amp;quot;enUS&amp;quot; then 
    print(&amp;quot;\124cFFD12727WARNING: \124cFFFFFFFFenUS language pack is required to use this profile properly&amp;quot;)
  end 

  print(&amp;quot;Sheuron initialized, ver: \124cFFFFE6402012.02.08&amp;quot;)
  xeroninit = true

end

if IsLeftAltKeyDown() 
or IsMounted()
or SpellIsTargeting()
or UnitBuffID(&amp;quot;player&amp;quot;,80169)
or UnitBuffID(&amp;quot;player&amp;quot;,87959)
or UnitChannelInfo(&amp;quot;player&amp;quot;) 
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>--- special events ---</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>-- Avoid sudden death on Ultraxion
local fadingtime = select(7,UnitDebuffID(&amp;quot;player&amp;quot;,110070))
if fadingtime and fadingtime - GetTime() &amp;lt; 1.3 then RunMacroText(&amp;quot;/click ExtraActionButton1&amp;quot;) end 

-- Avoid Hour of Twilight on Ultraxion, Delete next 3 lines if you are working as tank
local channelSpell, _, _, _, _, endTime = UnitCastingInfo(&amp;quot;boss1&amp;quot;)
if channelSpell == GetSpellInfo(109417) and endTime/1000 - GetTime() &amp;lt; 1.3 
then RunMacroText(&amp;quot;/click ExtraActionButton1&amp;quot;) end 

-- Avoid sudden death on Madness 
local tentacledeath = select(7,UnitDebuffID(&amp;quot;player&amp;quot;,109597))
if tentacledeath and tentacledeath - GetTime() &amp;lt; 1 then RunMacroText(&amp;quot;/click ExtraActionButton1&amp;quot;) end

-- Try to aim on Darkmoon Faerie Cannon
local canontime = select(7,UnitBuffID(&amp;quot;player&amp;quot;,102116))
if canontime and canontime - GetTime() &amp;lt; 1.15 then CancelUnitBuff(&amp;quot;player&amp;quot;,&amp;quot;Magic Wings&amp;quot;) end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>--- offensive spells ---</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if not rightkeydown then rightkeydown = 0 end

if IsRightControlKeyDown() and GetTime() - rightkeydown &amp;gt; 0.3  then
  rightkeydown = GetTime()
  if noKS then 
    noKS = false print(&amp;quot;Killing Spree: \124cFF15E61CEnabled&amp;quot;)
  else 
    noKS = true print(&amp;quot;Killing Spree: \124cFFE61515Disabled&amp;quot;)
  end
end

if UnitIsDead(&amp;quot;target&amp;quot;) 
or ImmuneTarget(&amp;quot;target&amp;quot;) 
or not UnitCanAttack(&amp;quot;player&amp;quot;,&amp;quot;target&amp;quot;) 
or tonumber(UnitGUID(&amp;quot;target&amp;quot;):sub(5,5),16) == 4
or ( not UnitAffectingCombat(&amp;quot;target&amp;quot;) and not SpecialAggro(&amp;quot;target&amp;quot;) and not UnitIsPlayer(&amp;quot;target&amp;quot;) )
or ( GetNumPartyMembers() &amp;gt; 0 and UnitPower(&amp;quot;player&amp;quot;) &amp;lt; 70 and select(2,GetSpellCooldown(57934)) &amp;lt; 2 )
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability></ROGUE>